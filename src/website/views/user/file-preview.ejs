<%- include('../blocks/header', { user }) %>
  <div class="container-fluid">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>
    &nbsp;
    <h4 style="text-align:center" class="text-truncate">
      <%= fileInfo.name.replace(fileInfo.extension, ' ' )%>
    </h4>
    <% if (fileInfo.mimeType.split('/')[0]=='video' ) { %>
      <div class="row">
        <div class="col-sm-8">
          <%- include('../partials/video-player', { video: file })%>
        </div>
        <div class="col-sm-4">
        </div>
      </div>
      <% } else if (fileInfo.mimeType.split('/')[0]=='image' ) { %>
        <img class="lozad center" data-src="<%= domain%>/user-content/<%=  file%>">
        <% } else if (['.html', '.js' , '.css' , '.jar' , '.log' ].includes(fileInfo.extension)) { %>
          <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
          <!--script src="https://unpkg.com/prettier@2.4.0/standalone.js"></script>
    <script src="https://unpkg.com/prettier@2.4.0/parser-graphql.js"></script-->
          <pre class="prettyprint linenums" style="max-height:400px">
    d
    </pre>
          <% } %>
            &nbsp;
            <a class="btn btn-secondary center" href="<%= domain%>/user-content/<%= file%>" download>Download</a>
  </div>
  &nbsp;
  <script>
    $(document).ready(function () {
      const observer = lozad();
      observer.observe();
    })
  </script>
  <style>
    .center {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 50%;
    }

    .lozad {
      border: 1px solid #555;
      max-height: 65vh;
      width: auto;
    }

    li.L0,
    li.L1,
    li.L2,
    li.L3,
    li.L5,
    li.L6,
    li.L7,
    li.L8 {
      list-style-type: decimal !important;
    }
  </style>